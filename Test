# PRD Section
$clients = "bhar", "bhme", "cchhs"
$prdUsedSpace = @{}  # Create a hashtable to store PRD used space values

foreach ($client in $clients) {
    $server = "ptlprddb$client" + "01.chicago.local"
    $disk = Get-WmiObject Win32_logicaldisk -ComputerName $server -Filter "DeviceID='G:'"
    $usedGB = [decimal]($disk.Size / 1gb - $disk.FreeSpace / 1gb)
    $prdUsedSpace[$client] = $usedGB  # Store used space in the hashtable
}

# UAT Section
$uatTotalSpace = @{}  # Create a hashtable to store UAT total space values

foreach ($client in $clients) {
    $server = "ptluatdb$client" + "01.chicago.local"
    $disk = Get-WmiObject Win32_logicaldisk -ComputerName $server -Filter "DeviceID='G:'"
    $sizeGB = [decimal]($disk.Size / 1gb)
    $uatTotalSpace[$client] = $sizeGB  # Store total space in the hashtable
}

# Compare PRD and UAT and display output only when space is needed
foreach ($client in $clients) {
    $difference = $prdUsedSpace[$client] - $uatTotalSpace[$client]
    if ($difference > 0) {
        Write-Output "$client: UAT needs $($difference) GB to add."
    }
}
